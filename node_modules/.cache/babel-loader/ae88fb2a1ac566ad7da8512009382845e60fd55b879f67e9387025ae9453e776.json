{"ast":null,"code":"import _objectSpread from\"D:/Downloads/Computer-science/MyProject/react-pizza/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import{calcTotalPrice}from'../../utils/calcTotalPrice';import{GetCartFromLs}from'../../utils/getCartFromLS';var _GetCartFromLs=GetCartFromLs(),items=_GetCartFromLs.items,totalPrice=_GetCartFromLs.totalPrice;var initialState={totalPrice:totalPrice,items:items};export var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.count+sum;},0);},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.count+sum;},0);},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","GetCartFromLs","items","totalPrice","initialState","cartSlice","name","reducers","addItem","state","action","findItem","find","obj","id","payload","count","push","minusItem","reduce","sum","price","removeItem","filter","clearItems","actions","reducer"],"sources":["D:/Downloads/Computer-science/MyProject/react-pizza/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { calcTotalPrice } from '../../utils/calcTotalPrice'\nimport { GetCartFromLs } from '../../utils/getCartFromLS'\nimport { CartItem, CartSliceState } from './types'\n\nconst { items, totalPrice } = GetCartFromLs()\n\nconst initialState: CartSliceState = {\n    totalPrice,\n    items,\n}\n\nexport const cartSlice = createSlice({\n    name: 'cart',\n    initialState,\n    reducers: {\n        addItem: (state, action: PayloadAction<CartItem>) => {\n            const findItem = state.items.find((obj) => obj.id === action.payload.id)\n            if (findItem) {\n                findItem.count++\n            } else {\n                state.items.push({\n                    ...action.payload,\n                    count: 1,\n                })\n            }\n\n            state.totalPrice = calcTotalPrice(state.items)\n        },\n\n        minusItem: (state, action: PayloadAction<string>) => {\n            const findItem = state.items.find((obj) => obj.id === action.payload)\n            if (findItem) {\n                findItem.count--\n            }\n            state.totalPrice = state.items.reduce((sum, obj) => obj.price * obj.count + sum, 0)\n        },\n\n        removeItem: (state, action: PayloadAction<string>) => {\n            state.items = state.items.filter((obj) => obj.id !== action.payload)\n            state.totalPrice = state.items.reduce((sum, obj) => obj.price * obj.count + sum, 0)\n        },\n        clearItems: (state) => {\n            state.items = []\n            state.totalPrice = 0\n        },\n    },\n})\n\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions\n\nexport default cartSlice.reducer\n"],"mappings":"wIAAA,OAASA,WAAW,KAAuB,kBAAkB,CAC7D,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,OAASC,aAAa,KAAQ,2BAA2B,CAGzD,mBAA8BA,aAAa,EAAE,CAArCC,KAAK,gBAALA,KAAK,CAAEC,UAAU,gBAAVA,UAAU,CAEzB,GAAMC,aAA4B,CAAG,CACjCD,UAAU,CAAVA,UAAU,CACVD,KAAK,CAALA,KACJ,CAAC,CAED,MAAO,IAAMG,UAAS,CAAGN,WAAW,CAAC,CACjCO,IAAI,CAAE,MAAM,CACZF,YAAY,CAAZA,YAAY,CACZG,QAAQ,CAAE,CACNC,OAAO,CAAE,iBAACC,KAAK,CAAEC,MAA+B,CAAK,CACjD,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAK,CAACU,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,GAAC,CACxE,GAAIH,QAAQ,CAAE,CACVA,QAAQ,CAACK,KAAK,EAAE,CACpB,CAAC,IAAM,CACHP,KAAK,CAACP,KAAK,CAACe,IAAI,gCACTP,MAAM,CAACK,OAAO,MACjBC,KAAK,CAAE,CAAC,GACV,CACN,CAEAP,KAAK,CAACN,UAAU,CAAGH,cAAc,CAACS,KAAK,CAACP,KAAK,CAAC,CAClD,CAAC,CAEDgB,SAAS,CAAE,mBAACT,KAAK,CAAEC,MAA6B,CAAK,CACjD,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAK,CAACU,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,GAAC,CACrE,GAAIJ,QAAQ,CAAE,CACVA,QAAQ,CAACK,KAAK,EAAE,CACpB,CACAP,KAAK,CAACN,UAAU,CAAGM,KAAK,CAACP,KAAK,CAACiB,MAAM,CAAC,SAACC,GAAG,CAAEP,GAAG,QAAKA,IAAG,CAACQ,KAAK,CAAGR,GAAG,CAACG,KAAK,CAAGI,GAAG,GAAE,CAAC,CAAC,CACvF,CAAC,CAEDE,UAAU,CAAE,oBAACb,KAAK,CAAEC,MAA6B,CAAK,CAClDD,KAAK,CAACP,KAAK,CAAGO,KAAK,CAACP,KAAK,CAACqB,MAAM,CAAC,SAACV,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,GAAC,CACpEN,KAAK,CAACN,UAAU,CAAGM,KAAK,CAACP,KAAK,CAACiB,MAAM,CAAC,SAACC,GAAG,CAAEP,GAAG,QAAKA,IAAG,CAACQ,KAAK,CAAGR,GAAG,CAACG,KAAK,CAAGI,GAAG,GAAE,CAAC,CAAC,CACvF,CAAC,CACDI,UAAU,CAAE,oBAACf,KAAK,CAAK,CACnBA,KAAK,CAACP,KAAK,CAAG,EAAE,CAChBO,KAAK,CAACN,UAAU,CAAG,CAAC,CACxB,CACJ,CACJ,CAAC,CAAC,CAEK,uBAAuDE,SAAS,CAACoB,OAAO,CAAhEjB,OAAO,oBAAPA,OAAO,CAAEc,UAAU,oBAAVA,UAAU,CAAEE,UAAU,oBAAVA,UAAU,CAAEN,SAAS,oBAATA,SAAS,CAAsB,gDAE/E,cAAeb,UAAS,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}