{"ast":null,"code":"import _slicedToArray from\"D:/Downloads/Computer-science/MyProject/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useCallback}from'react';import debounce from'lodash.debounce';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/filter/slice';import styles from'./Search.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Search=function Search(){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var inputRef=useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;setValue('');dispatch(setSearchValue(''));(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=useCallback(debounce(function(str){dispatch(setSearchValue(str));},1000),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(\"svg\",{className:styles.icon,xmlns:\"http://www.w3.org/2000/svg\",enableBackground:\"new 0 0 32 32\",id:\"Glyph\",version:\"1.1\",viewBox:\"0 0 32 32\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z\",id:\"XMLID_223_\"})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:function onChange(e){return onChangeInput(e);},className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B...\"}),value&&/*#__PURE__*/_jsxs(\"svg\",{onClick:onClickClear,className:styles.clearIcon,height:\"48\",viewBox:\"0 0 48 48\",width:\"48\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 0h48v48h-48z\",fill:\"none\"})]})]});};","map":{"version":3,"names":["React","useState","useRef","useCallback","debounce","useDispatch","setSearchValue","styles","Search","dispatch","value","setValue","inputRef","onClickClear","current","focus","updateSearchValue","str","onChangeInput","event","target","root","icon","e","input","clearIcon"],"sources":["D:/Downloads/Computer-science/MyProject/react-pizza/src/components/Search/index.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\nimport debounce from 'lodash.debounce'\nimport { useDispatch } from 'react-redux'\nimport { setSearchValue } from '../../redux/filter/slice'\n\nimport styles from './Search.module.scss'\n\nexport const Search: React.FC = () => {\n    const dispatch = useDispatch()\n    const [value, setValue] = useState('')\n    const inputRef = useRef<HTMLInputElement>(null)\n\n    const onClickClear = () => {\n        setValue('')\n        dispatch(setSearchValue(''))\n        inputRef.current?.focus()\n    }\n\n    const updateSearchValue = useCallback(\n        debounce((str: string) => {\n            dispatch(setSearchValue(str))\n        }, 1000),\n        []\n    )\n\n    const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValue(event.target.value)\n        updateSearchValue(event.target.value)\n    }\n\n    return (\n        <div className={styles.root}>\n            <svg\n                className={styles.icon}\n                xmlns='http://www.w3.org/2000/svg'\n                enableBackground='new 0 0 32 32'\n                id='Glyph'\n                version='1.1'\n                viewBox='0 0 32 32'\n            >\n                <path\n                    d='M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z'\n                    id='XMLID_223_'\n                />\n            </svg>\n            <input\n                ref={inputRef}\n                value={value}\n                onChange={(e) => onChangeInput(e)}\n                className={styles.input}\n                placeholder='Поиск пиццы...'\n            />\n            {value && (\n                <svg\n                    onClick={onClickClear}\n                    className={styles.clearIcon}\n                    height='48'\n                    viewBox='0 0 48 48'\n                    width='48'\n                    xmlns='http://www.w3.org/2000/svg'\n                >\n                    <path d='M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z' />\n                    <path d='M0 0h48v48h-48z' fill='none' />\n                </svg>\n            )}\n        </div>\n    )\n}\n"],"mappings":"yIAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,KAAQ,OAAO,CAC5D,MAAOC,SAAQ,KAAM,iBAAiB,CACtC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,cAAc,KAAQ,0BAA0B,CAEzD,MAAOC,OAAM,KAAM,sBAAsB,yFAEzC,MAAO,IAAMC,OAAgB,CAAG,QAAnBA,OAAgB,EAAS,CAClC,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eACtB,GAAMC,SAAQ,CAAGV,MAAM,CAAmB,IAAI,CAAC,CAE/C,GAAMW,aAAY,CAAG,QAAfA,aAAY,EAAS,uBACvBF,QAAQ,CAAC,EAAE,CAAC,CACZF,QAAQ,CAACH,cAAc,CAAC,EAAE,CAAC,CAAC,CAC5B,mBAAAM,QAAQ,CAACE,OAAO,4CAAhB,kBAAkBC,KAAK,EAAE,CAC7B,CAAC,CAED,GAAMC,kBAAiB,CAAGb,WAAW,CACjCC,QAAQ,CAAC,SAACa,GAAW,CAAK,CACtBR,QAAQ,CAACH,cAAc,CAACW,GAAG,CAAC,CAAC,CACjC,CAAC,CAAE,IAAI,CAAC,CACR,EAAE,CACL,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAA0C,CAAK,CAClER,QAAQ,CAACQ,KAAK,CAACC,MAAM,CAACV,KAAK,CAAC,CAC5BM,iBAAiB,CAACG,KAAK,CAACC,MAAM,CAACV,KAAK,CAAC,CACzC,CAAC,CAED,mBACI,aAAK,SAAS,CAAEH,MAAM,CAACc,IAAK,wBACxB,YACI,SAAS,CAAEd,MAAM,CAACe,IAAK,CACvB,KAAK,CAAC,4BAA4B,CAClC,gBAAgB,CAAC,eAAe,CAChC,EAAE,CAAC,OAAO,CACV,OAAO,CAAC,KAAK,CACb,OAAO,CAAC,WAAW,uBAEnB,aACI,CAAC,CAAC,qSAAqS,CACvS,EAAE,CAAC,YAAY,EACjB,EACA,cACN,cACI,GAAG,CAAEV,QAAS,CACd,KAAK,CAAEF,KAAM,CACb,QAAQ,CAAE,kBAACa,CAAC,QAAKL,cAAa,CAACK,CAAC,CAAC,EAAC,CAClC,SAAS,CAAEhB,MAAM,CAACiB,KAAM,CACxB,WAAW,CAAC,kEAAgB,EAC9B,CACDd,KAAK,eACF,aACI,OAAO,CAAEG,YAAa,CACtB,SAAS,CAAEN,MAAM,CAACkB,SAAU,CAC5B,MAAM,CAAC,IAAI,CACX,OAAO,CAAC,WAAW,CACnB,KAAK,CAAC,IAAI,CACV,KAAK,CAAC,4BAA4B,wBAElC,aAAM,CAAC,CAAC,yIAAyI,EAAG,cACpJ,aAAM,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAG,GAE/C,GACC,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}