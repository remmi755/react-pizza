{"ast":null,"code":"import _slicedToArray from\"D:/Downloads/Computer-science/MyProject/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import{addItem}from'../../redux/cart/slice';import{selectCartItemById}from'../../redux/cart/selectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=['тонкое','традиционное'];export var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeType=_useState2[0],setActiveType=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activeSize=_useState4[0],setActiveSize=_useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:typeNames[activeType],size:sizes[activeSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]},id),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(type,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(index);},className:activeType===index?'active':'',children:typeNames[type]},index);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setActiveSize(index);},className:activeSize===index?'active':'',children:[size,\" \\u0441\\u043C.\"]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" $\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),addedCount>0?/*#__PURE__*/_jsx(\"i\",{children:addedCount}):'']})]})]})});};","map":{"version":3,"names":["React","useState","useSelector","useDispatch","Link","addItem","selectCartItemById","typeNames","PizzaBlock","id","title","price","imageUrl","sizes","types","dispatch","cartItem","activeType","setActiveType","activeSize","setActiveSize","addedCount","count","onClickAdd","item","type","size","map","index"],"sources":["D:/Downloads/Computer-science/MyProject/react-pizza/src/components/PizzaBlock/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { addItem } from '../../redux/cart/slice'\nimport {selectCartItemById} from '../../redux/cart/selectors'\nimport { CartItem } from '../../redux/cart/types'\n\nconst typeNames = ['тонкое', 'традиционное']\n\ntype PizzaBlockProps = {\n    id: string;\n    title: string;\n    price: number;\n    imageUrl: string;\n    sizes: number[];\n    types: number[];\n}\n\nexport const PizzaBlock: React.FC<PizzaBlockProps> = ({ id, title, price, imageUrl, sizes, types }) => {\n    const dispatch = useDispatch()\n    const cartItem = useSelector(selectCartItemById(id))\n\n    const [activeType, setActiveType] = useState(0)\n    const [activeSize, setActiveSize] = useState(0)\n\n    const addedCount = cartItem ? cartItem.count : 0\n\n    const onClickAdd = () => {\n        const item: CartItem = {\n            id,\n            title,\n            price,\n            imageUrl,\n            type: typeNames[activeType],\n            size: sizes[activeSize],\n            count: 0\n        }\n\n        dispatch(addItem(item))\n    }\n\n    return (\n        <div className='pizza-block-wrapper'>\n            <div className='pizza-block'>\n                <Link to={`/pizza/${id}`} key={id}>\n                <img className='pizza-block__image' src={imageUrl} alt='Pizza' />\n                <h4 className='pizza-block__title'>{title}</h4>\n                    </Link >\n                <div className='pizza-block__selector'>\n                    <ul>\n                        {types.map((type, index) => (\n                            <li\n                                key={index}\n                                onClick={() => setActiveType(index)}\n                                className={activeType === index ? 'active' : ''}\n                            >\n                                {typeNames[type]}\n                            </li>\n                        ))}\n                    </ul>\n                    <ul>\n                        {sizes.map((size, index) => (\n                            <li\n                                key={index}\n                                onClick={() => setActiveSize(index)}\n                                className={activeSize === index ? 'active' : ''}\n                            >\n                                {size} см.\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n                <div className='pizza-block__bottom'>\n                    <div className='pizza-block__price'>от {price} $</div>\n                    <button onClick={onClickAdd} className='button button--outline button--add'>\n                        <svg\n                            width='12'\n                            height='12'\n                            viewBox='0 0 12 12'\n                            fill='none'\n                            xmlns='http://www.w3.org/2000/svg'\n                        >\n                            <path\n                                d='M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z'\n                                fill='white'\n                            />\n                        </svg>\n                        <span>Добавить</span>\n                        {addedCount > 0 ? <i>{addedCount}</i> : ''}\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}