{"ast":null,"code":"import _objectSpread from\"D:/Downloads/Computer-science/MyProject/react-pizza/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import{calcTotalPrice}from'../../utils/calcTotalPrice';import{GetCartFromLs}from'../../utils/getCartFromLS';var _GetCartFromLs=GetCartFromLs(),items=_GetCartFromLs.items,totalPrice=_GetCartFromLs.totalPrice;var initialState={totalPrice:totalPrice,items:items};export var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.count+sum;},0);},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});state.totalPrice=state.items.reduce(function(sum,obj){return obj.price*obj.count+sum;},0);},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","GetCartFromLs","items","totalPrice","initialState","cartSlice","name","reducers","addItem","state","action","findItem","find","obj","id","payload","count","push","minusItem","reduce","sum","price","removeItem","filter","clearItems","actions","reducer"],"sources":["D:/Downloads/Computer-science/MyProject/react-pizza/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport { calcTotalPrice } from '../../utils/calcTotalPrice'\r\nimport { GetCartFromLs } from '../../utils/getCartFromLS'\r\nimport { RootState } from '../store'\r\nimport { CartItem, CartSliceState } from './types'\r\n\r\n\r\n\r\nconst { items, totalPrice } = GetCartFromLs()\r\n\r\nconst initialState: CartSliceState = {\r\n    totalPrice,\r\n    items,\r\n}\r\n\r\nexport const cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        addItem: (state, action:PayloadAction<CartItem>) => {\r\n            const findItem = state.items.find((obj) => obj.id === action.payload.id)\r\n            if(findItem) {\r\n                findItem.count ++\r\n            } else {\r\n                state.items.push({\r\n                    ...action.payload,\r\n                    count: 1\r\n                })\r\n            }\r\n\r\n\r\n            state.totalPrice = calcTotalPrice(state.items)\r\n        },\r\n\r\n        minusItem: (state, action: PayloadAction<string>) => {\r\n            const findItem = state.items.find((obj) => obj.id === action.payload)\r\n            if(findItem) {\r\n                findItem.count --\r\n            }\r\n            state.totalPrice = state.items.reduce((sum, obj) => (obj.price * obj.count) + sum, 0)\r\n\r\n        },\r\n\r\n        removeItem: (state, action: PayloadAction<string>) => {\r\n            state.items = state.items.filter((obj) => obj.id !== action.payload)\r\n            state.totalPrice = state.items.reduce((sum, obj) => (obj.price * obj.count) + sum, 0)\r\n        },\r\n        clearItems: (state) => {\r\n            state.items = []\r\n            state.totalPrice = 0\r\n        },\r\n    },\r\n})\r\n\r\n\r\n\r\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions\r\n\r\nexport default cartSlice.reducer"],"mappings":"wIAAA,OAASA,WAAW,KAAuB,kBAAkB,CAC7D,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,OAASC,aAAa,KAAQ,2BAA2B,CAMzD,mBAA8BA,aAAa,EAAE,CAArCC,KAAK,gBAALA,KAAK,CAAEC,UAAU,gBAAVA,UAAU,CAEzB,GAAMC,aAA4B,CAAG,CACjCD,UAAU,CAAVA,UAAU,CACVD,KAAK,CAALA,KACJ,CAAC,CAED,MAAO,IAAMG,UAAS,CAAGN,WAAW,CAAC,CACjCO,IAAI,CAAE,MAAM,CACZF,YAAY,CAAZA,YAAY,CACZG,QAAQ,CAAE,CACNC,OAAO,CAAE,iBAACC,KAAK,CAAEC,MAA8B,CAAK,CAChD,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAK,CAACU,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,GAAC,CACxE,GAAGH,QAAQ,CAAE,CACTA,QAAQ,CAACK,KAAK,EAAG,CACrB,CAAC,IAAM,CACHP,KAAK,CAACP,KAAK,CAACe,IAAI,gCACTP,MAAM,CAACK,OAAO,MACjBC,KAAK,CAAE,CAAC,GACV,CACN,CAGAP,KAAK,CAACN,UAAU,CAAGH,cAAc,CAACS,KAAK,CAACP,KAAK,CAAC,CAClD,CAAC,CAEDgB,SAAS,CAAE,mBAACT,KAAK,CAAEC,MAA6B,CAAK,CACjD,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAK,CAACU,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,GAAC,CACrE,GAAGJ,QAAQ,CAAE,CACTA,QAAQ,CAACK,KAAK,EAAG,CACrB,CACAP,KAAK,CAACN,UAAU,CAAGM,KAAK,CAACP,KAAK,CAACiB,MAAM,CAAC,SAACC,GAAG,CAAEP,GAAG,QAAMA,IAAG,CAACQ,KAAK,CAAGR,GAAG,CAACG,KAAK,CAAII,GAAG,GAAE,CAAC,CAAC,CAEzF,CAAC,CAEDE,UAAU,CAAE,oBAACb,KAAK,CAAEC,MAA6B,CAAK,CAClDD,KAAK,CAACP,KAAK,CAAGO,KAAK,CAACP,KAAK,CAACqB,MAAM,CAAC,SAACV,GAAG,QAAKA,IAAG,CAACC,EAAE,GAAKJ,MAAM,CAACK,OAAO,GAAC,CACpEN,KAAK,CAACN,UAAU,CAAGM,KAAK,CAACP,KAAK,CAACiB,MAAM,CAAC,SAACC,GAAG,CAAEP,GAAG,QAAMA,IAAG,CAACQ,KAAK,CAAGR,GAAG,CAACG,KAAK,CAAII,GAAG,GAAE,CAAC,CAAC,CACzF,CAAC,CACDI,UAAU,CAAE,oBAACf,KAAK,CAAK,CACnBA,KAAK,CAACP,KAAK,CAAG,EAAE,CAChBO,KAAK,CAACN,UAAU,CAAG,CAAC,CACxB,CACJ,CACJ,CAAC,CAAC,CAIK,uBAAuDE,SAAS,CAACoB,OAAO,CAAhEjB,OAAO,oBAAPA,OAAO,CAAEc,UAAU,oBAAVA,UAAU,CAAEE,UAAU,oBAAVA,UAAU,CAAEN,SAAS,oBAATA,SAAS,CAAsB,gDAE/E,cAAeb,UAAS,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}